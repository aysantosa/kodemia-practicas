(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{232:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return p}));var r=a(1),n=a.n(r),o=a(17),i=a(16);function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d="up",u="down";function m(e,t,a){var r;function n(r){!function(e,t,a,r){var n,i,s,l=null===(n=document.activeElement)||void 0===n?void 0:n.closest(e);l||(s=function(e){var t=c(document.querySelectorAll(e)),a=t.find((function(e){return Object(o.a)({element:e})}));if(a)return a;var r=t.find((function(e){return Object(o.a)({element:e,allowPartialVisibility:!0})}));if(r)return r;return t[0]}(e));if(!s){s=(r===d?f:y)(l,e,a)}var u=null===(i=s)||void 0===i?void 0:i.querySelector(t);u&&(u.focus(),Object(o.a)({element:u,offsetTop:64})||window.scrollTo({top:s.offsetTop-64}))}(e,t,a,r)}Object(i.b)((l(r={},"KeyK",(function(){return n(d)})),l(r,"KeyJ",(function(){return n(u)})),r),window,{timeout:0})}function p(e){return m(e.itemSelector,e.focusableSelector,e.waterfallItemContainerSelector),null}function y(e,t,a){var r=null===e||void 0===e?void 0:e.nextElementSibling;return r&&!r.matches("".concat(t,",").concat(a))?r.nextElementSibling:r}function f(e,t,a){if(!e)return null;var r,n=e.previousElementSibling;!n&&a&&(n=null===(r=e.closest(a))||void 0===r?void 0:r.previousElementSibling);return n&&!n.matches(t)?n.previousElementSibling:n}p.propTypes={itemSelector:n.a.string.isRequired,focusableSelector:n.a.string.isRequired,waterfallItemContainerSelector:n.a.string}},343:function(e,t,a){"use strict";a.r(t),a.d(t,"renderFeed",(function(){return Y}));var r=a(0),n=a(1),o=a.n(n),i=a(34),c=a(7),s=function(e){var t=e.article;return Object(r.h)("div",{className:"crayons-article__cover crayons-article__cover__image__feed"},Object(r.h)("a",{href:t.path,className:"crayons-article__cover__image__feed crayons-story__cover__image",title:t.title},Object(r.h)("img",{className:"crayons-article__cover__image__feed",src:t.main_image,width:"650",height:"275",alt:t.title,style:{backgroundColor:"".concat(t.main_image_background_hex_color)}})))};s.propTypes={article:c.a.isRequired},s.displayName="ArticleCoverImage";var l=function(e){var t=e.article;return Object(r.h)("h3",{className:"crayons-story__title"},Object(r.h)("a",{href:t.path,id:"article-link-".concat(t.id)},"PodcastEpisode"===t.class_name&&Object(r.h)("span",{className:"crayons-story__flare-tag"},"podcast"),"User"===t.class_name&&Object(r.h)("span",{className:"crayons-story__flare-tag",style:{background:"#5874d9",color:"white"}},"person"),Object(r.h)("span",{dangerouslySetInnerHTML:{__html:filterXSS(t.title)}})))};l.propTypes={article:c.a.isRequired},l.displayName="ContentTitle";var d=a(36),u=a(37),m=function(e){var t=e.count,a=e.articlePath,n=e.articleTitle,o=function(){return Object(r.h)("svg",{className:"crayons-icon",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"M10.5 5h3a6 6 0 110 12v2.625c-3.75-1.5-9-3.75-9-8.625a6 6 0 016-6zM12 15.5h1.5a4.501 4.501 0 001.722-8.657A4.5 4.5 0 0013.5 6.5h-3A4.5 4.5 0 006 11c0 2.707 1.846 4.475 6 6.36V15.5z"}))},i="Comments for post ".concat(n," (").concat(t,")");return t>0?Object(r.h)(d.a,{variant:"ghost",size:"s",contentType:"icon-left",url:"".concat(a,"#comments"),icon:o,tagName:"a","aria-label":i},Object(r.h)("span",{title:"Number of comments"},t,Object(r.h)("span",{className:"hidden s:inline"},"\xa0","".concat(t>1?"".concat(Object(u.a)("core.comment"),"s"):Object(u.a)("core.comment"))))):0===t?Object(r.h)(d.a,{variant:"ghost",size:"s",contentType:"icon-left",url:"".concat(a,"#comments"),icon:o,tagName:"a","data-testid":"add-a-comment","aria-label":i},Object(r.h)("span",{className:"inline s:hidden"},"0"),Object(r.h)("span",{className:"hidden s:inline"},Object(u.a)("core.add_comment"))):null};m.defaultProps={count:0},m.propTypes={count:o.a.number,articlePath:o.a.string.isRequired,articleTitle:o.a.string.isRequired},m.displayName="CommentsCount";var p=function(e){var t,a=e.comment;return Object(r.h)("div",{className:"crayons-comment cursor-pointer",role:"presentation",onClick:function(e){if(e.which>1||e.metaKey||e.ctrlKey)window.open(a.path,"_blank");else{var t=window.location.origin+a.path;InstantClick.preload(t),InstantClick.display(t)}}},Object(r.h)("div",{className:"crayons-comment__meta"},Object(r.h)("a",{href:(t=a.username,"/".concat(t)),className:"crayons-story__secondary fw-medium"},Object(r.h)("span",{className:"crayons-avatar mr-2"},Object(r.h)("img",{src:a.profile_image_90,className:"crayons-avatar__image",alt:"{comment.username} avatar"})),a.name),Object(r.h)("a",{href:a.path,className:"crayons-story__tertiary ml-1"},Object(r.h)("time",null,timeAgo({oldTimeInSeconds:a.published_at_int,formatter:function(e){return e},maxDisplayedAge:NaN})))),Object(r.h)("div",{className:"crayons-comment__body",dangerouslySetInnerHTML:{__html:a.safe_processed_html}}))};p.displayName="CommentsListItem",p.propTypes={comment:o.a.shape({name:o.a.string.isRequired,profile_image_90:o.a.string.isRequired,published_at_int:o.a.number.isRequired,safe_processed_html:o.a.string.isRequired,path:o.a.string.isRequired,username:o.a.string.isRequired}).isRequired};var y=a(3);function f(e){return"".concat(e,"#comments-container")}var h=function(e){var t=e.comments,a=void 0===t?[]:t,n=e.articlePath,o=e.totalCount;return a&&a.length>0?Object(r.h)("div",{className:"crayons-story__comments"},a.slice(0,2).map((function(e){return Object(r.h)(p,{key:e.id,comment:e})})),function(e,t,a){var n="";return a>2&&(n=Object(r.h)("div",{className:"crayons-story__comments__actions"},Object(r.h)(y.a,{variant:"ghost",size:"s",tagName:"a",className:"-ml-2",url:f(t),"data-testid":"see-all-comments"},"See all ",a," comments"))),n}(0,n,o)):""};h.displayName="CommentsList",Comment.propTypes=o.a.shape({name:o.a.string.isRequired,profile_image_90:o.a.string.isRequired,published_at_int:o.a.number.isRequired}),h.propTypes={comments:o.a.arrayOf(Comment.propTypes).isRequired,articlePath:o.a.string.isRequired,totalCount:o.a.number.isRequired};var b=function(e){var t=e.triggerId,a=e.contentId,n=e.username,o=e.name,i=e.profileImage,c=e.userId;return Object(r.h)("div",{class:"profile-preview-card relative mb-4 s:mb-0 fw-medium hidden m:inline-block"},Object(r.h)("button",{id:t,"aria-controls":a,class:"profile-preview-card__trigger fs-s p-1 crayons-btn crayons-btn--ghost -ml-1 -my-2","aria-label":"".concat(o," profile details")},o),Object(r.h)("div",{id:a,class:"profile-preview-card__content crayons-dropdown p-4 pt-0 branded-7",style:"border-top-color: var(--card-color);","data-repositioning-dropdown":"true","data-testid":"profile-preview-card"},Object(r.h)("div",{class:"gap-4 grid"},Object(r.h)("div",{class:"-mt-4"},Object(r.h)("a",{href:"/".concat(n),class:"flex"},Object(r.h)("span",{class:"crayons-avatar crayons-avatar--xl mr-2 shrink-0"},Object(r.h)("img",{src:i,class:"crayons-avatar__image",alt:"",loading:"lazy"})),Object(r.h)("span",{class:"crayons-link crayons-subtitle-2 mt-5"},o))),Object(r.h)("div",{class:"print-hidden"},Object(r.h)(y.c,{variant:"primary",className:"follow-action-button follow-user w-100","data-info":JSON.stringify({id:c,className:"User",name:o,style:"full"})},"Follow")),Object(r.h)("div",{class:"author-preview-metadata-container","data-author-id":c}))))},v=function(e){var t=e.readablePublishDate,a=e.publishedTimestamp,n=e.publishedAtInt,o=timeAgo({oldTimeInSeconds:n,formatter:function(e){return e},maxDisplayedAge:604800});return Object(r.h)("time",{dateTime:a},t,o?" (".concat(o,")"):"")};v.defaultProps={publishedTimestamp:null,publishedAtInt:null},v.propTypes={readablePublishDate:o.a.string.isRequired,publishedTimestamp:o.a.string,publishedAtInt:o.a.number},v.displayName="PublishDate";var g=function(e){var t=e.article,a=e.organization,n=!document.getElementById("organization-article-index");return Object(r.h)("div",{className:"crayons-story__meta"},Object(r.h)("div",{className:"crayons-story__author-pic"},a&&n&&Object(r.h)("a",{href:"/".concat(a.slug),className:"crayons-logo crayons-logo--l"},Object(r.h)("img",{alt:"".concat(a.name," logo"),src:a.profile_image_90,className:"crayons-logo__image",loading:"lazy"})),Object(r.h)("a",{href:"/".concat(t.user.username),className:"crayons-avatar ".concat(a&&n?"crayons-avatar--s absolute -right-2 -bottom-2 border-solid border-2 border-base-inverted":"crayons-avatar--l")},Object(r.h)("img",{src:t.user.profile_image_90,alt:"".concat(t.user.username," profile"),className:"crayons-avatar__image",loading:"lazy"}))),Object(r.h)("div",null,Object(r.h)("div",null,Object(r.h)("a",{href:"/".concat(t.user.username),className:"crayons-story__secondary fw-medium m:hidden"},filterXSS("User"===t.class_name?t.user.username:t.user.name)),Object(r.h)(b,{triggerId:"story-author-preview-trigger-".concat(t.id),contentId:"story-author-preview-content-".concat(t.id),username:t.user.username,name:t.user.name,profileImage:t.user.profile_image_90,userId:t.user_id}),a&&!document.getElementById("organization-article-index")&&Object(r.h)("span",null,Object(r.h)("span",{className:"crayons-story__tertiary fw-normal"}," for "),Object(r.h)("a",{href:"/".concat(a.slug),className:"crayons-story__secondary fw-medium"},a.name))),Object(r.h)("a",{href:t.path,className:"crayons-story__tertiary fs-xs"},Object(r.h)(v,{readablePublishDate:t.readable_publish_date,publishedTimestamp:t.published_timestamp,publishedAtInt:t.published_at_int}))))};g.defaultProps={organization:null},g.propTypes={article:c.a.isRequired,organization:o.a.shape({name:o.a.string.isRequired,profile_image_90:o.a.string.isRequired,slug:o.a.string.isRequired})},g.displayName="Meta";var _=function(e){var t=e.article,a=t.public_reactions_count||0;if(0!==a)return Object(r.h)(d.a,{variant:"ghost",size:"s",contentType:"icon-left",url:t.path,icon:function(){return Object(r.h)("svg",{className:"crayons-icon",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"M18.884 12.595l.01.011L12 19.5l-6.894-6.894.01-.01A4.875 4.875 0 0112 5.73a4.875 4.875 0 016.884 6.865zM6.431 7.037a3.375 3.375 0 000 4.773L12 17.38l5.569-5.569a3.375 3.375 0 10-4.773-4.773L9.613 10.22l-1.06-1.062 2.371-2.372a3.375 3.375 0 00-4.492.25v.001z"}))},tagName:"a"},Object(r.h)("span",{title:"Number of reactions"},a,Object(r.h)("span",{className:"hidden s:inline"},"\xa0","".concat(1==a?Object(u.a)("core.reaction"):"".concat(Object(u.a)("core.reaction"),"s")))))};_.propTypes={article:c.a.isRequired},_.displayName="ReactionsCount";var j=function(e){var t=e.readingTime;return Object(r.h)("small",{className:"crayons-story__tertiary mr-2"},"".concat(t<1?1:t," min read"))};j.defaultProps={readingTime:null},j.propTypes={readingTime:o.a.number},j.displayName="ReadingTime";var O=a(2);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var r,n,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(s){c=!0,n=s}finally{try{i||null==a.return||a.return()}finally{if(c)throw n}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var k=function(e){var t=e.article,a=e.isBookmarked,n=e.onClick,o=e.saveable,i=void 0===o||o,c=w(Object(O.k)(a?"Saved":"Save"),2),s=c[0],l=c[1],d=w(Object(O.k)(a),2),u=d[0],m=d[1],p=function(e){l(u?"Unsave":"Save")},y=function(e){l(u?"Saved":"Save")};return"Article"===t.class_name&&i?Object(r.h)("button",{type:"button",id:"article-save-button-".concat(t.id),className:"crayons-btn crayons-btn--s ".concat(u?"crayons-btn--ghost":"crayons-btn--secondary"),"data-initial-feed":!0,"data-reactable-id":t.id,onClick:function(e){n(e),l(u?"Save":"Saved"),m((function(e){return!e}))},onMouseMove:p,onFocus:p,onMouseout:y,onBlur:y},s):"User"===t.class_name?Object(r.h)("button",{type:"button",className:"crayons-btn crayons-btn--secondary fs-s","data-info":'{"id":'.concat(t.id,',"className":"User"}'),"data-follow-action-button":!0},"\xa0"):null};k.propTypes={article:c.a.isRequired,isBookmarked:o.a.bool.isRequired,onClick:o.a.func.isRequired,saveable:o.a.bool.isRequired},k.displayName="SaveButton";var S=function(e){var t=e.highlightText;if(t&&t.body_text.length>0){var a=t.body_text,n="";if(a[0]){var o=a[0],i="";o.toLowerCase()!==o.toUpperCase()&&(i="\u2026"),n="".concat(i+a.join("..."),"\u2026")}if(n.length>0)return Object(r.h)("div",{className:"crayons-story__snippet"},Object(r.h)("span",null,n))}return null};S.propTypes={highlightText:c.b},S.displayName="SearchSnippet";var T=function(e){var t=e.tags,a=void 0===t?[]:t,n=e.flare_tag,o=a;return n&&(o=o.filter((function(e){return e!==n.name}))),Object(r.h)("div",{className:"crayons-story__tags"},n&&Object(r.h)("a",{className:"crayons-tag crayons-tag--filled",href:"/t/".concat(n.name),style:{"--tag-bg":"".concat(n.bg_color_hex,"1a"),"--tag-prefix":n.bg_color_hex,"--tag-bg-hover":"".concat(n.bg_color_hex,"1a"),"--tag-prefix-hover":n.bg_color_hex}},Object(r.h)("span",{className:"crayons-tag__prefix"},"#"),n.name),o.map((function(e){return Object(r.h)("a",{key:"tag-".concat(e),className:"crayons-tag",href:"/t/".concat(e)},Object(r.h)("span",{className:"crayons-tag__prefix"},"#"),e)})))};T.propTypes={tags:o.a.arrayOf(o.a.string).isRequired},T.displayName="TagList";var A=function(e){var t=e.article;return Object(r.h)("a",{href:t.path,className:"crayons-story__video",style:"background-image:url(".concat(t.cloudinary_video_url,")")},Object(r.h)("span",{title:"Video duration",className:"crayons-story__video__time"},t.video_duration_in_minutes))};A.propTypes={article:c.a.isRequired},A.displayName="Video";var I=function(e){var t=e.article;return Object(r.h)("div",{className:"single-article single-article-small-pic single-article-single-podcast"},Object(r.h)("div",{className:"small-pic"},Object(r.h)("a",{href:"/".concat(t.podcast.slug),className:"small-pic-link-wrapper"},Object(r.h)("img",{src:t.podcast.image_url,alt:t.podcast.title}))),Object(r.h)("a",{href:t.path,className:"small-pic-link-wrapper index-article-link",id:"article-link-".concat(t.id)},Object(r.h)("div",{className:"content"},Object(r.h)("h3",null,Object(r.h)("span",{className:"tag-identifier"},"podcast"),t.title))),Object(r.h)("h4",null,Object(r.h)("a",{href:"/".concat(t.podcast.slug)},t.podcast.title)))};function C(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}I.propTypes={article:i.a.isRequired};var R=function(e){var t=e.article,a=e.isFeatured,n=e.isBookmarked,o=e.bookmarkClick,i=e.feedStyle,c=e.pinned,d=e.saveable;if(t&&"podcast_episodes"===t.type_of)return Object(r.h)(I,{article:t});var u=["crayons-story","crayons-story__top","crayons-story__body","crayons-story__indention","crayons-story__title","crayons-story__tags","crayons-story__bottom","crayons-story__tertiary"],p=(a||"rich"===i&&t.main_image)&&!t.cloudinary_video_url;return p=p||t.pinned&&t.main_image,Object(r.h)("article",{className:"crayons-story cursor-pointer".concat(a?" crayons-story--featured":""),id:a?"featured-story-marker":"article-".concat(t.id),"data-content-user-id":t.user_id},Object(r.h)("a",{href:t.path,"aria-labelledby":"article-link-".concat(t.id),className:"crayons-story__hidden-navigation-link"},t.title),Object(r.h)("div",{role:"presentation",onClick:function(e){var a=e.target.classList;if(u.includes.apply(u,C(a)))if(e.which>1||e.metaKey||e.ctrlKey)window.open(t.path,"_blank");else{var r=window.location.origin+t.path;InstantClick.preload(r),InstantClick.display(r)}}},t.cloudinary_video_url&&Object(r.h)(A,{article:t}),p&&Object(r.h)(s,{article:t}),Object(r.h)("div",{className:"crayons-story__body"},Object(r.h)("div",{className:"crayons-story__top"},Object(r.h)(g,{article:t,organization:t.organization}),c&&Object(r.h)("div",{className:"pinned color-accent-brand fw-bold","data-testid":"pinned-article"},Object(r.h)("svg",{"aria-hidden":"true",className:"mr-2 align-text-bottom color-accent-brand",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},Object(r.h)("path",{d:"M22.314 10.172l-1.415 1.414-.707-.707-4.242 4.242-.707 3.536-1.415 1.414-4.242-4.243-4.95 4.95-1.414-1.414 4.95-4.95-4.243-4.242 1.414-1.415L8.88 8.05l4.242-4.242-.707-.707 1.414-1.415z"})),"Pinned",Object(r.h)("span",{class:"hidden s:inline"},"\xa0post"))),Object(r.h)("div",{className:"crayons-story__indention"},Object(r.h)(l,{article:t}),Object(r.h)(T,{tags:t.tag_list,flare_tag:t.flare_tag}),"Article"===t.class_name&&Object(r.h)(S,{highlightText:t.highlight}),Object(r.h)("div",{className:"crayons-story__bottom"},"User"!==t.class_name&&Object(r.h)("div",{className:"crayons-story__details"},Object(r.h)(_,{article:t}),Object(r.h)(m,{count:t.comments_count,articlePath:t.path,articleTitle:t.title})),Object(r.h)("div",{className:"crayons-story__save"},Object(r.h)(j,{readingTime:t.reading_time}),Object(r.h)(k,{article:t,isBookmarked:n,onClick:o,saveable:d}))))),t.top_comments&&t.top_comments.length>0&&Object(r.h)(h,{comments:t.top_comments,articlePath:t.path,totalCount:t.comments_count})))};R.defaultProps={isBookmarked:!1,isFeatured:!1,feedStyle:"basic",saveable:!0},R.propTypes={article:i.a.isRequired,isBookmarked:o.a.bool,isFeatured:o.a.bool,feedStyle:o.a.string,bookmarkClick:o.a.func.isRequired,pinned:o.a.bool,saveable:o.a.bool.isRequired};var x=function(e){var t="featured"===e.version&&Object(r.h)("div",{className:"crayons-story__cover"},Object(r.h)("div",{className:"crayons-scaffold crayons-story__cover__image",loading:"lazy"}));return Object(r.h)("div",{className:"crayons-story",title:"Loading posts..."},t,Object(r.h)("div",{className:"crayons-story__body"},Object(r.h)("div",{className:"crayons-story__top mb-3"},Object(r.h)("div",{className:"crayons-story__meta w-100"},Object(r.h)("div",{className:"crayons-scaffold-loading mr-2 w-0 h-0 p-4 radius-full"}),Object(r.h)("div",{className:"crayons-scaffold-loading w-25 h-0 py-2"}))),Object(r.h)("div",{className:"crayons-story__indention"},Object(r.h)("div",{className:"crayons-scaffold-loading w-75 h-0 py-3 mb-2"}),Object(r.h)("div",{className:"crayons-scaffold-loading w-50 h-0 py-2 mb-8"}))))};x.propTypes={version:o.a.string};var P=a(232),E=a(16);function z(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t,a,r,n,o,i){try{var c=e[o](i),s=c.value}catch(l){return void a(l)}c.done?t(s):Promise.resolve(s).then(r,n)}function M(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var o=e.apply(t,a);function i(e){F(o,r,n,i,c,"next",e)}function c(e){F(o,r,n,i,c,"throw",e)}i(void 0)}))}}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var r,n,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(s){c=!0,n=s}finally{try{i||null==a.return||a.return()}finally{if(c)throw n}}return o}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"===typeof e)return L(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var D=function(e){var t=e.timeFrame,a=e.renderFeed,n=userData().reading_list_ids,o=void 0===n?[]:n,i=B(Object(O.k)(new Set(o)),2),c=i[0],s=i[1],l=B(Object(O.k)(null),2),d=l[0],u=l[1],m=B(Object(O.k)([]),2),p=m[0],y=m[1],f=B(Object(O.k)([]),2),h=f[0],b=f[1],v=B(Object(O.k)(!1),2),g=v[0],_=v[1];function j(){return j=M((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=yield fetch("/stories/feed/".concat(e,"?page=").concat(t),{method:"GET",headers:{Accept:"application/json","X-CSRF-Token":window.csrfToken,"Content-Type":"application/json"},credentials:"same-origin"});return yield a.json()})),j.apply(this,arguments)}function w(){return(w=M((function*(e){var t=document.body.userStatus;if(e.preventDefault(),sendHapticMessage("medium"),"logged-out"!==t){var a=e.currentTarget,r=buttonFormData(a),n=yield getCsrfToken();if(n){var o=sendFetch("reaction-creation",r),i=yield o(n);if(200===i.status){var l=yield i.json(),d=Number(a.dataset.reactableId),u=l.result,m=new Set(z(c.values()));"create"===u&&m.add(d),"destroy"===u&&m.delete(d),renderNewSidebarCount(a,l),s(m)}}}else showLoginModal()}))).apply(this,arguments)}return Object(O.d)((function(){b(function(){var e=document.getElementById("followed-podcasts"),t=userData(),a=[];if(t&&t.followed_podcast_ids&&t.followed_podcast_ids.length>0){JSON.parse(e.dataset.episodes).forEach((function(e){t.followed_podcast_ids.indexOf(e.podcast.id)>-1&&a.push(e)}))}return a}())}),[]),Object(O.d)((function(){var e=function(){var e=M((function*(){try{g&&_(!1);var e=yield function(){return j.apply(this,arguments)}(t),a=e.find((function(e){return!0===e.pinned})),r=e.find((function(e){return null!==e.main_image}));a&&""===t&&(e=e.filter((function(e){return e.id!==a.id})),a.id!==(null===r||void 0===r?void 0:r.id)&&u(a));var n=e.indexOf(r);r&&e.splice(n,1);var o=[r,e].flat();y(o)}catch(i){g||_(!0)}}));return function(){return e.apply(this,arguments)}}();e()}),[t,g]),Object(P.b)("article.crayons-story","a.crayons-story__hidden-navigation-link","div.paged-stories"),Object(E.b)({b:function(e){var t,a,r=null===(t=e.target)||void 0===t?void 0:t.closest("article.crayons-story");r&&(null===(a=r.querySelector("button[id^=article-save-button]"))||void 0===a||a.click())}}),Object(r.h)("div",{id:"rendered-article-feed"},g?Object(r.h)("div",{class:"crayons-notice crayons-notice--danger"},"There was a problem fetching your feed."):a({pinnedArticle:d,feedItems:p,podcastEpisodes:h,bookmarkedFeedItems:c,bookmarkClick:function(e){return w.apply(this,arguments)}}))};D.defaultProps={timeFrame:""},D.propTypes={timeFrame:o.a.string,renderFeed:o.a.func.isRequired},D.displayName="Feed";var J=function(e){var t=e.episode;return Object(r.h)("div",{"data-testid":"podcast-episode",className:"crayons-podcast-episode"},Object(r.h)("a",{href:"/".concat(t.podcast.slug,"/").concat(t.slug),className:"crayons-podcast-episode__cover"},Object(r.h)("img",{src:t.podcast.image_90,alt:t.title})),Object(r.h)("div",null,Object(r.h)("p",{className:"crayons-podcast-episode__author"},t.podcast.title),Object(r.h)("h2",{className:"crayons-podcast-episode__title crayons-story__title mb-0"},Object(r.h)("a",{href:"/".concat(t.podcast.slug,"/").concat(t.slug)},t.title))))};J.propTypes={episode:c.a.isRequired},J.displayName="PodcastEpisode";var K=function(e){var t=e.children;return Object(r.h)("div",{className:"crayons-story"},Object(r.h)("div",{className:"crayons-story__body"},Object(r.h)("h3",{className:"crayons-story__headline"},Object(r.h)("a",{href:"/pod"},"Today's Podcasts")),t))};K.propTypes={children:c.c.isRequired},K.displayName="TodaysPodcasts";var $=a(35);function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},V.apply(this,arguments)}function H(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return X(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return X(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function G(e,t,a,r,n,o,i){try{var c=e[o](i),s=c.value}catch(l){return void a(l)}c.done?t(s):Promise.resolve(s).then(r,n)}var Q=function(){return Object(r.h)("div",{"data-testid":"feed-loading"},Object(r.h)(x,{version:"featured"}),Object(r.h)(x,null),Object(r.h)(x,null),Object(r.h)(x,null),Object(r.h)(x,null),Object(r.h)(x,null),Object(r.h)(x,null))},W=function(e){var t=e.episodes;return Object(r.h)(K,null,t.map((function(e){return Object(r.h)(J,{episode:e,key:e.podcast.id})})))};W.defaultProps={episodes:[]},W.propTypes={episodes:o.a.arrayOf(c.a)};var Y=function(){var e,t=(e=function*(e){var t=document.getElementById("homepage-feed"),a=(yield Object($.a)()).currentUser,n=a&&a.id;Object(r.render)(Object(r.h)(D,{timeFrame:e,renderFeed:function(t){var a=t.pinnedArticle,o=t.feedItems,i=t.podcastEpisodes,c=t.bookmarkedFeedItems,s=t.bookmarkClick;if(0===o.length)return Object(r.h)(Q,null);var l,d={bookmarkClick:s},u=JSON.parse(document.body.dataset.user).feed_style,m=H(o),p=m[0],y=m.slice(1);return p&&(l=p.id,function e(){window.ga&&ga.create?ga("send","event","view","featured-feed-impression","articles-".concat(l),null):setTimeout(e,20)}()),Object(r.h)("div",null,""===e&&a&&Object(r.h)(R,V({},d,{article:a,pinned:!0,feedStyle:u,isBookmarked:c.has(a.id),saveable:a.user_id!=n})),p&&Object(r.h)(R,V({},d,{article:p,isFeatured:!0,feedStyle:u,isBookmarked:c.has(p.id),saveable:p.user_id!=n})),i.length>0&&Object(r.h)(W,{episodes:i}),(y||[]).map((function(e){return Object(r.h)(R,V({},d,{key:e.id,article:e,feedStyle:u,isBookmarked:c.has(e.id),saveable:e.user_id!=n}))})))}}),t,t.firstElementChild)},function(){var t=this,a=arguments;return new Promise((function(r,n){var o=e.apply(t,a);function i(e){G(o,r,n,i,c,"next",e)}function c(e){G(o,r,n,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()},35:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=function(e){var t=e.resolve,a=e.reject,r=e.waitTime,n=void 0===r?20:r,o=0;return function e(){if(3e3!==o){var r,i=(document,null!==(r=document.querySelector("meta[name='csrf-token']"))?r.content:void 0),c=document.body.dataset.user;if(c&&void 0!==i){var s=JSON.parse(c);t({currentUser:s,csrfToken:i})}else o+=n,setTimeout(e,n)}else a(new Error("Couldn't find user data on page."))}};function n(){return new Promise((function(e,t){r({resolve:e,reject:t})()}))}},37:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a(33),n=a.n(r),o=document.getElementById("i18n-translations");function i(e){return n.a.t(e)}o&&(n.a.translations=JSON.parse(o.dataset.translations)),n.a.defaultLocale="en",n.a.locale=document.body.dataset.locale}}]);
//# sourceMappingURL=136-ff9b8fd8f428e3b3a45b.chunk.js.map